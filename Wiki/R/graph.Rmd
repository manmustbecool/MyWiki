---
title: "Graph"
output: html_document
---

# Operations

## igraph 

```r
# get 
E(g) # edges
V(g) # vertices

get.edgelist(g)  # all edges from to

# delete 
g <- delete.edges(g, which(E(g)$weight<=0.1) ) 
g <- delete.vertices(g, which(degree(g)<1) )

# calculates the length of all the shortest paths from or to the vertices
shortest.paths()

```

# Plot

## igraph

```{r, warning=F, message=F}
library(igraph)

df <- data.frame(
  A=c("Dublin", "Cork", "Galway") , 
  B=c("Cork", "Galway", "Dublin"))

dfg <- graph.data.frame(d=df, directed=FALSE)

V(dfg)$color="red" # set vertex color
E(dfg)$color="blue" # set edge color

# igraph_options(plot.layout=layout_as_tree) # tree graph
plot(dfg, vertex.label=(dfg)$name)

# get the various disconnected components 
components(dfg)

```

tkplot(dfg)  # interactive plot

rglplot(dfg) # 3D plot


```{r, warning=F, message=F}
g <- make_ring(10)
V(g)$name <- c("a", "b", "c", "d", "e", "f", "g", "h", "i", "j")
# returns with a list of graphs. b's 2 neighbors
plot(make_ego_graph(g, 2, V(g)[V(g)$name=="b"])[[1]])

```

## visNetwork

https://cran.r-project.org/web/packages/visNetwork/vignettes/Introduction-to-visNetwork.html
```{r, warning=F, message=F}
require(visNetwork, quietly = TRUE)
vertexes <- data.frame(id = 1:3)
edges <- data.frame(from = c(1,1,2), to = c(1,3,3))
visNetwork(vertexes, edges)

```

 Render a visNetwork object from an igraph object
```{r, warning=F, message=F}
# Not run: 
require(igraph)
igraph_network <- graph.famous("Walther")

# get data and plot :
data <- toVisNetworkData(igraph_network)
visNetwork(nodes = data$nodes, edges = data$edges)
# or plot directly
# visIgraph(igraph_network)
```
