---
title: "Python"
date: "Updated: `r format(Sys.time(), '%d %B, %Y')`"
---

# Basic

Install anaconda

# Data types

## Atomic data types

```python
str() # convert variable to string
int() 
float()
bool()

```

## Complex data types

### List
  
Lists can contain any data types (including list). mutable
```python
li = [3, 4, 5]

# sub list
li[0] # 3
li[0:2] # [incluse, excluse] 3,4

# add or remove element
li = li + [6]
li = del(li[5])

# copy: reference only
li2 = li
# copy: explicit copy 
li2 = li[:] # or li2 = list(li)

len(li) # length of list

matrix = [ [1, 2, 3, 4], [5, 6, 7, 8], ] # nested list
```

### Tuple
  
Tuples are immutable sequences
```python
t = 12345, 54321, 'hello!'
t[0]
```

### Set
  
A set is an unordered collection with no duplicate elements
```python
basket = {'apple', 'orange', 'apple', 'pear', 'orange', 'banana'}
```

### Dictionary

Dictionaries store key-value pairs, kind of like JSON objects.
```python
# create a dictionary
person = {
            "name": "Amos",
            "age": 23,
            "hobbies": ["Travelling", "Swimming", "Coding", "Music"]
        }

# iterate through the dict and print the keys
for key in person:
    print(key)

# iterate through the dict's keys and print their values
for key in person:
    print(person[key])
```

# Numpy
Array can only cotain one type

```python
li = [3, 4, 5]
np_array = np.array(li)

# shape of array
np_array.shape

df = np.array([[1,2,3], [1,2,3], [1,2,3]])
print(df)
#     [[1 2 3]
#     [1 2 3]
#     [1 2 3]]
```
# Panda


http://manishamde.github.io/blog/2013/03/07/pandas-and-python-top-10/


## Series

A one-dimensional labeled array A capable of holding any data type

```python
s = pd.Series([3, -5, 7, 4], index=['a', 'b', 'c', 'd'])

```
## DataFrame

```python
df = pd.DataFrame(
          {"a" : [11 ,12, 13], 
           "b" : [21, 22, 23], 
           "c" : [31, 32, 33]},    
        index = [1, 2, 3])
#     a   b   c
# 1  11  21  31
# 2  12  22  32
# 3  13  23  33


# Select first n rows.
df.head(n)
# Select last n rows.
df.tail(n)

# mean of each column
df.mean()
# (rows,columns)
df.shape 
# Describe index
df.index 
# Describe DataFrame columns
df.columns 
# Info on DataFrame
df.info() 
# Number of non-NA values
df.count() 


# select the first 3 rows (rows 0,1,2)
df[0:3]
# select the first 5 rows (rows 0,1,2,3,4)
df[:5]
# select the last row 
df[-1:]

#loc: indexing via labels
#iloc: indexing via integers

# select the first 3 rows (rows 0,1,2) and (columns 1, 2 and 3)
df.iloc[0:3, 1:4]

# Extract rows that meet logical criteria.
df[df.Length > 7]
# Remove duplicate rows (only considers columns).
df.drop_duplicates()

# Order rows by values of a column (low to high).
df.sort_values('mpg')
# Order rows by values of a column (high to low).
df.sort_values('mpg', ascending=False)

```

## read write CSV

```python
pd.read_csv('file.csv', header=None, nrows=5)
pd.to_csv('myDataFrame.csv')

pd.read_excel('file.xlsx')
pd.to_excel('dir/myDataFrame.xlsx', sheet_name='Sheet1')
```


# Read head lines of a large text file

```python
file_name = "C:\\Users\\xxxxx\\Desktop\\2014101709-12.txt"

with open(file_name) as myfile:
    head = [next(myfile) for x in range(20)]
print(head)

```

# Real time plot with python

```python
import numpy as np
import matplotlib.pyplot as plt

plt.axis([0, 10, 0, 1])
plt.ion()

for i in range(100):
    y = np.random.random()
    plt.scatter(i, y)
    plt.pause(0.5)

while True:
    plt.pause(0.5)
```


# Install package

in cmd comand window
```python
# PyPI
pip install py2exe
#conda
conda install --channel https://conda.anaconda.org/manmadescience py2exe


conda install pandas
pip install pandas
```

  NTLM support for Python3
   
No working package for Pthon3 at the moment

  * Install NTLM package for 2.x first
  * Download NTLM package for 3.x files and replace installed file
  